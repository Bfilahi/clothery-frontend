<form
  #updateProductForm="ngForm"
  class="section__container"
  (ngSubmit)="onUpdateProduct(updateProductForm)"
>
  <h2>Update product</h2>
  <div class="inputs">
    <div class="img__input">
      <input
        type="file"
        name="imgUrl"
        ngModel
        (change)="onImageChange($event)"
        #imgUrl="ngModel"
        required
        multiple
      />
      <ng-container *ngIf="imgUrl.touched && imgUrl.dirty">
        <p class="error" *ngIf="imgUrl.errors?.['required']">Field required!</p>
        <p class="error" *ngIf="isAnError">
          {{ errorMessage }}
        </p>
      </ng-container>
    </div>

    <div>
      <input
        type="text"
        name="productName"
        placeholder="Name"
        [ngModel]="productName"
        #pName="ngModel"
        required
      />
      <ng-container
        *ngIf="pName.touched && pName.dirty && pName.errors?.['required']"
      >
        <p class="error">Field required!</p>
      </ng-container>
    </div>

    <div>
      <textarea
        name="description"
        placeholder="Description"
        [ngModel]="description"
        #descr="ngModel"
        required
      ></textarea>
      <ng-container
        *ngIf="descr.touched && descr.dirty && descr.errors?.['required']"
      >
        <p class="error">Field required!</p>
      </ng-container>
    </div>

    <div>
      <input
        type="number"
        name="unitPrice"
        placeholder="Price"
        [ngModel]="unitPrice"
        #price="ngModel"
        required
      />
      <ng-container
        *ngIf="price.touched && price.dirty && price.errors?.['required']"
      >
        <p class="error">Field required!</p>
      </ng-container>
    </div>

    <div>
      <input
        type="number"
        name="unitsInStock"
        placeholder="Quantity"
        [ngModel]="unitsInStock"
        #quantity="ngModel"
        required
      />
      <ng-container
        *ngIf="quantity.touched && quantity.dirty && quantity.errors?.['required']"
      >
        <p class="error">Field required!</p>
      </ng-container>
    </div>

    <div class="size__container">
      <div class="size" *ngFor="let size of sizes">
        <input
          type="checkbox"
          name="size-{{ size.size }}"
          id="size-{{ size.id }}"
          [checked]="isSizeSelected(size)"
          (change)="onSelectedSizes(size, $event)"
        />
        <label for="size-{{ size.id }}">{{ size.size }}</label>
      </div>
    </div>
  </div>

  <button
    type="submit"
    class="btn-update"
    [disabled]="updateProductForm.invalid || selectedSizes.length == 0"
  >
    Update
  </button>
</form>
